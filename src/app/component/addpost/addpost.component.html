<h1>Add new Post</h1>


<div class="alert alert-success" *ngIf="success">
    <strong>Success!</strong> {{success}}
  </div>
  <div class="alert alert-danger" *ngIf="errorMessage">
    <strong>Danger!</strong> {{errorMessage}}
  </div>



  <form id="form1" #userForm="ngForm">

    <label for="pTitle">Title:</label><br>
    <input type="text" id="pTitle" name="pTitle" [(ngModel)]="newPost.title" #titleRef="ngModel" pattern="[A-Za-z ]{3,}"
      required>

    <div *ngIf="titleRef.invalid && (titleRef.touched || titleRef.dirty)">
      <p *ngIf="titleRef.errors?.['required']" class="text-danger">Name is required, cant be balnk.</p>
      <p *ngIf="titleRef.errors?.['pattern']" class="text-danger">Only chars are allowed,Min 3 char required.</p>
    </div>
    <br>


    <label for="pUrl">URL Field:</label><br>
    <input type="url" id="pUrl" name="pUrl" [(ngModel)]="newPost.urlField" #urlRef="ngModel" required>

    <div *ngIf="urlRef.invalid && (urlRef.touched || urlRef.dirty)">
      <p *ngIf="urlRef.errors?.['required']" class="text-danger">Url is required, cant be blank.</p>
    </div>
    <br>


    <label for="pCause">Cause: </label><br>
    <input type="text" id="pCause" name="pCause" [(ngModel)]="newPost.cause" #causeRef="ngModel" pattern="[A-Za-z ]{3,}" required>

    <div *ngIf="causeRef.invalid && (causeRef.touched || causeRef.dirty)">
      <p *ngIf="causeRef.errors?.['required']" class="text-danger">Cause is required, cant be blank.</p>
      <p *ngIf="causeRef.errors?.['pattern']" class="text-danger">Only chars are allowed.</p>
    </div>
    <br>

    <label for="pDetails">Details:</label><br>
    <input type="text" id="pDetails" name="pDetails" [(ngModel)]="newPost.details" #DetailsRef="ngModel" pattern="[A-Za-z ]{10,}" required>

    <div *ngIf="DetailsRef.invalid && (DetailsRef.touched || DetailsRef.dirty)">
      <p *ngIf="DetailsRef.errors?.['required']" class="text-danger">Details is required, cant be blank.</p>
      <p *ngIf="DetailsRef.errors?.['pattern']" class="text-danger">Only chars are allowed,Min 10 char required.</p>
    </div>
    <br>

    <label for="pAmount">Amount Needed:</label><br>
    <input type="number" id="pAmount" name="pAmount" [(ngModel)]="newPost.amountNeeded" #AmountRef="ngModel" pattern="[0-9]{5,}" required>

    <div *ngIf="AmountRef.invalid && (AmountRef.touched || AmountRef.dirty)">
        <p *ngIf="AmountRef.errors?.['required']" class="text-danger">Amount is required, cant be blank, atleast 10000.</p>
        <div *ngIf="AmountRef.errors?.['pattern']">Invalid amount format, atleast 10000</div>
    </div>
    <br>


    <label for="postType">PostType:</label><br>
    <select [(ngModel)]="newPost.postType" name="postType">
      <option *ngFor="let type of postTypes" [ngValue]="type">{{ type }}</option>
    </select>


    <br>




    <input type="submit" (click)="addNewPost()" class="btn btn-success" value="Add Post" [disabled]="!userForm.valid">
  </form>
  